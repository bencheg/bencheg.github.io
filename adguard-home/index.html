<!DOCTYPE html>
<html lang="ru"><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="–ü—Ä–∏–≤–µ—Ç! üëã –ó–¥–µ—Å—å —è –ø—É–±–ª–∏–∫—É—é –∑–∞–º–µ—Ç–∫–∏ –æ —Ä–∞–∑–Ω—ã—Ö IT —à—Ç—É–∫–∞—Ö –∏ –Ω–µ —Ç–æ–ª—å–∫–æ. –¢–æ, —á—Ç–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ –º–Ω–µ –∏ —á–µ–º —Ö–æ—á–µ—Ç—Å—è –ø–æ–¥–µ–ª–∏—Ç—å—Å—è.">
    

    
    <link rel="shortcut icon" type="image/x-icon" href="https://marand.ru/images/favicon.jpg" />
    
    <link rel="stylesheet" href="/css/style.min.css">

    <link rel="canonical" href="https://marand.ru/adguard-home/" />
    <title>AdGuard Home - –±–ª–æ–∫–∏—Ä—É–µ–º —Ä–µ–∫–ª–∞–º—É –≤–æ –≤—Å–µ–º –¥–æ–º–µ.</title>
</head>
<body><header id="banner">
    <h2><a href="https://marand.ru">marand.ru</a></h2>
    <nav>
        <ul>
            <li>
                <a href="/" title="–ü–æ—Å—Ç—ã">–ü–æ—Å—Ç—ã</a>
            </li>
        </ul>
    </nav>
</header>
<main id="content">
<article>
    <header id="post-header">
        <h1>AdGuard Home - –±–ª–æ–∫–∏—Ä—É–µ–º —Ä–µ–∫–ª–∞–º—É –≤–æ –≤—Å–µ–º –¥–æ–º–µ.</h1>
        <div>
                <time>–æ–±–Ω–æ–≤–ª–µ–Ω–æ 01.01.2023</time>
            <a href='/tags/adguard'>adguard</a></div>
    </header><p><img src="/images/adguard.png" alt="adguard logo"></p>
<p>Adguard Home - –±–µ—Å–ø–ª–∞—Ç–Ω–æ–µ –ü–û —Å –æ—Ç–∫—Ä—ã—Ç—ã–º –∏—Å—Ö–æ–¥–Ω—ã–º –∫–æ–¥–æ–º –¥–ª—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ —Ä–µ–∫–ª–∞–º—ã, —Ç—Ä–µ–∫–∏–Ω–≥–∞, —Ñ–∏—à–∏–Ω–≥–∞ –∏ –ø—Ä–æ—á–µ–π –Ω–µ—á–∏—Å—Ç–∏ –Ω–∞ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö –≤ —Å–µ—Ç–∏: –ø–ª–∞–Ω—à–µ—Ç—ã, —Ç–µ–ª–µ—Ñ–æ–Ω—ã, –ø—Ä–∏—Å—Ç–∞–≤–∫–∏, —Ç–µ–ª–µ–≤–∏–∑–æ—Ä—ã –∏ –ø—Ä–æ—á–∏–µ —Ä–æ–±–æ—Ç—ã-–ø—ã–ª–µ—Å–æ—Å—ã.
–¢–∞–∫ —á—Ç–æ –∫–∏—Ç–∞–π—Ü—ã –Ω–µ —É–∑–Ω–∞—é—Ç –æ—Ç –≤–∞—à–µ–≥–æ —Ä–æ–±–æ—Ç–∞-–ø—ã–ª–µ—Å–æ—Å–∞ —Å–∫–æ–ª—å–∫–æ —É –≤–∞—Å –∫–æ–º–Ω–∞—Ç.</p>
<h1 id="—á—Ç–æ-–Ω—É–∂–Ω–æ">–ß—Ç–æ –Ω—É–∂–Ω–æ.</h1>
<p>–ß—Ç–æ-—Ç–æ, –∫—É–¥–∞ –º–æ–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å AdGuard, —É –º–µ–Ω—è —ç—Ç–æ Raspberry Pi 4. –ù–æ —ç—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏ —Ä–æ—É—Ç–µ—Ä, –∏ —Å–µ—Ç–µ–≤–æ–π –Ω–∞–∫–æ–ø–∏—Ç–µ–ª—å Synology/QNAP. –î–∞ –≤–æ–æ–±—â–µ –≤—Å—ë —á—Ç–æ —É–≥–æ–¥–Ω–æ, –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ. –ù—É, –∫—Ä–æ–º–µ —Ä–æ–±–æ—Ç–∞-–ø—ã–ª–µ—Å–æ—Å–∞.</p>
<h1 id="—É—Å—Ç–∞–Ω–æ–≤–∫–∞">–£—Å—Ç–∞–Ω–æ–≤–∫–∞</h1>
<p>–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –æ—á–µ–Ω—å <a href="https://github.com/AdguardTeam/AdGuardHome/wiki/Raspberry-Pi">–ø—Ä–æ—Å—Ç–∞—è</a>, –∫–∞–∫ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –∏–∑ –ò–∫–µ–∏. –ó–∞—Ö–æ–¥–∏–º –ø–æ ssh –∏ –≤–≤–æ–¥–∏–º:
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">wget <span class="s1">&#39;https://static.adguard.com/adguardhome/release/AdGuardHome_linux_armv6.tar.gz&#39;</span>
</span></span><span class="line"><span class="cl">tar -f AdGuardHome_linux_armv6.tar.gz -x -v</span></span></code></pre></div>
–ü—Ä–∞–≤–¥–∞, —Å—Ç–æ–∏—Ç –≤—ã–±—Ä–∞—Ç—å –ø–∞–∫–µ—Ç –ø–æ–¥ —Å–≤–æ—é <a href="https://github.com/AdguardTeam/AdGuardHome/wiki/Platforms#releases">–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É</a>.</p>
<p>–ó–∞—Ç–µ–º:
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="nb">cd</span> ./AdGuardHome/
</span></span><span class="line"><span class="cl">sudo ./AdGuardHome -s install</span></span></code></pre></div></p>
<p>–í—Å—ë, —É—Å—Ç–∞–Ω–æ–≤–∏–ª–∏. –ü–µ—Ä–µ—Ö–æ–¥–∏–º –ø–æ http://192.168..:3000/ –∏ –∑–∞ 5 –ø—Ä–æ—Å—Ç—ã—Ö —à–∞–≥–æ–≤ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º.  192.168.. —Ç—É—Ç - ip —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞, –∫—É–¥–∞ —É—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ AdGuard.</p>
<h1 id="—á—Ç–æ-–∫–∞—Å–∞–µ—Ç—Å—è-—Ñ–∏–ª—å—Ç—Ä–æ–≤-–∏-–Ω–∞—Å—Ç—Ä–æ–π–∫–∏-dns">–ß—Ç–æ –∫–∞—Å–∞–µ—Ç—Å—è —Ñ–∏–ª—å—Ç—Ä–æ–≤ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ DNS</h1>
<p>–Ø –≤—ã–±—Ä–∞–ª —Å–ª–µ–¥—É—é—â–∏–µ Upstream DNS-—Å–µ—Ä–≤–µ—Ä—ã:
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">tls://security.cloudflare-dns.com
</span></span><span class="line"><span class="cl">https://security.cloudflare-dns.com/dns-query</span></span></code></pre></div>
–ò –≤—ã–±—Ä–∞–ª –ø—É–Ω–∫—Ç &ldquo;–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ DNS –∑–∞–ø—Ä–æ—Å—ã&rdquo;, –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤. –ß—Ç–æ –±—ã DNS –∑–∞–ø—Ä–æ—Å—ã —à–∏—Ñ—Ä–æ–≤–∞–ª–∏—Å—å, –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–π—Ç–∏ –≤ &ldquo;–ù–∞—Å—Ç—Ä–æ–π–∫–∏&rdquo; - &ldquo;–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è&rdquo; –∏ –ø–æ—Å—Ç–∞–≤–∏—Ç—å –≥–∞–ª–∫—É &ldquo;–í–∫–ª—é—á–∏—Ç—å —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ&rdquo;.</p>
<p>–ü–µ—Ä–µ–ø—Ä–æ–±–æ–≤–∞–≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ñ–∏–ª—å—Ç—Ä–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–∏–ª—Å—è –Ω–∞ —ç—Ç–∏—Ö:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">https://adguardteam.github.io/AdGuardSDNSFilter/Filters/filter.txt
</span></span><span class="line"><span class="cl">https://adaway.org/hosts.txt
</span></span><span class="line"><span class="cl">https://v.firebog.net/hosts/Easyprivacy.txt
</span></span><span class="line"><span class="cl">https://raw.githubusercontent.com/crazy-max/WindowsSpyBlocker/master/data/hosts/spy.txt
</span></span><span class="line"><span class="cl">https://raw.githubusercontent.com/AdguardTeam/FiltersRegistry/master/filters/filter_1_Russian/filter.txt
</span></span><span class="line"><span class="cl">https://raw.githubusercontent.com/AdguardTeam/FiltersRegistry/master/filters/filter_11_Mobile/filter.txt</span></span></code></pre></div>
<h1 id="—É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç-–¥–ª—è-–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π-—Ä–∞–±–æ—Ç—ã-—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è">–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è</h1>
<p>–°—Ç–∞–≤–∏—Ç—å –±—É–¥–µ–º –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π <mark>Let`s Encrypt</mark>. –î–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –¥–æ–º–µ–Ω–∞ –Ω–µ —Ö–æ—á–µ—Ç—Å—è –æ—Ç–∫—Ä—ã–≤–∞—Ç—å –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞—Ä—É–∂—É –∏ –∑–∞–º–æ—Ä–∞—á–∏–≤–∞—Ç—å—Å—è —Å –ø—Ä–∞–≤–∏–ª–∞–º–∏ —Ñ–∞–π—Ä–≤–æ–ª–∞, –ø–æ—ç—Ç–æ–º—É –≤–æ—Å–ø–æ–ª—å–∑—É—é—Å—å DNS –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º –æ—Ç <mark>CloudFlare</mark>.</p>
<p>–î–µ–ª–µ–≥–∏—Ä—É–µ–º –¥–æ–º–µ–Ω –Ω–∞ CloudFlare. –ú–µ–Ω—è–µ–º ns –Ω–∞ —Ç–µ, —á—Ç–æ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç CF –∏ –∂–¥–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∑–æ–Ω—ã.</p>
<p>–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–∞–∫–µ—Ç—ã:
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">sudo apt install certbot python3-certbot-dns-cloudflare</span></span></code></pre></div>
–°–æ–∑–¥–∞–µ–º —Ñ–∞–π–ª —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–æ–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏:
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">mkdir /secrets/ 
</span></span><span class="line"><span class="cl">touch /secrets/cloudflare.ini
</span></span><span class="line"><span class="cl">nano /secrets/cloudflare.ini </span></span></code></pre></div>
–í—Å—Ç–∞–≤–ª—è–µ–º –≤ —Ñ–∞–π–ª token –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ CF. –ù–∞–º –ø–æ–π–¥–µ—Ç —Ç–æ–∫–µ–Ω –∏–∑ —à–∞–±–ª–æ–Ω–∞ <mark>&ldquo;Edit zone DNS&rdquo;</mark></p>
<p><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="nv">dns_cloudflare_api_token</span> <span class="o">=</span> token</span></span></code></pre></div>
–ú–µ–Ω—è–µ–º –ø—Ä–∞–≤–∞:
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">sudo chmod <span class="m">0700</span> /secrets/</span></span></code></pre></div>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">sudo chmod <span class="m">0400</span> /secrets/cloudflare.ini</span></span></code></pre></div>
–û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–ø—Ä–æ—Å –Ω–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç:
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">sudo certbot certonly --dns-cloudflare --dns-cloudflare-credentials /home/pi/secrets/cloudflare.ini -d example.com,*.example.com --preferred-challenges dns-01</span></span></code></pre></div>
–ù–µ –∑–∞–±—É–¥—å—Ç–µ –ø–æ–º–µ–Ω—è—Ç—å –¥–æ–º–µ–Ω.
–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã —Å–æ—Ö—Ä–∞–Ω—è—Ç—Å—è –≤ <code>/etc/letsencrypt/live/example.com/</code></p>
<p>–û—Å—Ç–∞–ª–æ—Å—å –¥–æ–±–∞–≤–∏—Ç—å –∏—Ö –≤ AdGuard. &ldquo;–ù–∞—Å—Ç—Ä–æ–π–∫–∏&rdquo; - &ldquo;–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è&rdquo;. –ò –≤—Å—Ç–∞–≤–ª—è–µ–º –Ω–∞—à–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã.</p>
<p><img src="/images/adguard-letsencrypt.png" alt="adguard logo"></p>
<p>–í–æ—Ç –∏ –≤—Å—ë.</p>
</article>

        </main><footer id="footer">
    
</footer>


<script type="text/javascript" >
    (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
    m[i].l=1*new Date();
    for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
    k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
    (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");
 
    ym(92841410, "init", {
         clickmap:true,
         trackLinks:true,
         accurateTrackBounce:true
    });
 </script>
 <noscript><div><img src="https://mc.yandex.ru/watch/92841410" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
 
</body>
</html>
